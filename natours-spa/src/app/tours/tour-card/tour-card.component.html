
<div class="card" [ngClass]="getCardClass()">
    <div class="card__header">
    <div class="card__picture">
        <div class="card__picture-overlay">&nbsp;</div><img class="card__picture-img" src="{{utilService.serverResourceUrl()}}img/tours/{{tour.imageCover}}" alt="{{tour.name}}"/>
    </div>
    <h3 class="heading-tertirary"><span>{{tour.name}}</span></h3>
    </div>
    <div class="card__details">
    <h4 class="card__sub-heading">{{tour.difficulty}} {{tour.duration}}-day tour</h4>
    <p class="card__text">{{tour.summary}}</p>
    <div class="card__data">
        <svg class="card__icon">
        <use xlink:href="/assets/img/icons.svg#icon-map-pin"></use>
        </svg><span>{{tour.startLocation.description}}</span>
    </div>
    <div class="card__data">
        <svg class="card__icon">
        <use xlink:href="/assets/img/icons.svg#icon-calendar"></use>
        </svg><span>{{tour.startDates[0].toLocaleString() | date: 'MMMM, yyyy'}}</span>
    </div>
    <div class="card__data">
        <svg class="card__icon">
        <use xlink:href="/assets/img/icons.svg#icon-flag"></use>
        </svg><span>{{tour.locations.length}} stops</span>
    </div>
    <div class="card__data">
        <svg class="card__icon">
        <use xlink:href="/assets/img/icons.svg#icon-user"></use>
        </svg><span>{{tour.maxGroupSize}} people</span>
    </div>
    </div>
    <div class="card__footer">
        <p>
            <span *ngIf="!this.booking" class="card__footer-value">${{tour.price}}</span>
            <span *ngIf="!this.booking" class="card__footer-text"> per person</span>
        </p>
        <h2>
            <span *ngIf="isPaid()" class="card__footer-paid-value">${{this.booking.price}}</span>
            <span *ngIf="isPaid()" class="card__footer-paid-value"> paid at {{this.booking.createdAt | date: 'medium' }}</span>
            <span *ngIf="this.booking && !isPaid()" class="card__footer-paid-value">The payment should be arranged</span>
        </h2>
        <p class="card__ratings">
            <span *ngIf="!this.booking" class="card__footer-value">{{tour.ratingsAverage}}</span>
            <span *ngIf="!this.booking" class="card__footer-text"> rating ({{tour.ratingsQuantity}})</span>
        </p>
        <a class="btn btn--green btn--small" href="/tour/{{tour.slug}}">Details</a>
    </div>
</div>